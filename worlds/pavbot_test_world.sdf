<?xml version="1.0" ?>
<sdf version="1.9">
  <world name="default">

    <!-- =========================
         PHYSICS
         ========================= -->
    <physics name="1ms" type="ignored">
      <max_step_size>0.001</max_step_size>
      <real_time_factor>1.0</real_time_factor>
    </physics>

    <!-- Systems: Physics is required for joints / diff drive dynamics -->
    <plugin filename="libgz-sim8-physics-system.so" name="gz::sim::systems::Physics"/>
    <plugin filename="libgz-sim8-sensors-system.so" name="gz::sim::systems::Sensors"/>
    <plugin filename="libgz-sim8-scene-broadcaster-system.so" name="gz::sim::systems::SceneBroadcaster"/>

    <!-- Light -->
    <include>
      <uri>https://fuel.gazebosim.org/1.0/openrobotics/models/Sun</uri>
    </include>

    <!-- =========================
         ASPHALT TEST TRACK
         - 30 m long, 6 m wide slab
         - Two solid white lane lines
         - Optional dashed centerline
         ========================= -->
    <model name="asphalt_track">
      <static>true</static>
      <link name="track_link">

        <!-- Collision slab -->
        <collision name="track_collision">
          <pose>0 0 0 0 0 0</pose>
          <geometry>
            <box>
              <size>30 6 0.10</size>
            </box>
          </geometry>
          <surface>
            <friction>
              <ode>
                <mu>1.2</mu>
                <mu2>1.2</mu2>
              </ode>
            </friction>
          </surface>
        </collision>

        <!-- Visual: dark "asphalt" -->
        <visual name="track_visual">
          <pose>0 0 0 0 0 0</pose>
          <geometry>
            <box>
              <size>30 6 0.10</size>
            </box>
          </geometry>
          <material>
            <ambient>0.08 0.08 0.08 1</ambient>
            <diffuse>0.10 0.10 0.10 1</diffuse>
            <specular>0.02 0.02 0.02 1</specular>
          </material>
        </visual>

        <!-- Two solid white lane boundary lines (raised slightly to avoid z-fighting) -->
        <!-- Lane width between lines: 4.0 m (-2m and 2m b/c 0 is origin) -->
        <visual name="left_lane_line">
          <pose>0 1.50 0.051 0 0 0</pose>
          <geometry>
            <box>
              <size>28.0 0.10 0.005</size>
            </box>
          </geometry>
          <material>
            <ambient>1 1 1 1</ambient>
            <diffuse>1 1 1 1</diffuse>
            <specular>0.1 0.1 0.1 1</specular>
          </material>
        </visual>

        <visual name="right_lane_line">
          <pose>0 -1.50 0.051 0 0 0</pose>
          <geometry>
            <box>
              <size>28.0 0.10 0.005</size>
            </box>
          </geometry>
          <material>
            <ambient>1 1 1 1</ambient>
            <diffuse>1 1 1 1</diffuse>
            <specular>0.1 0.1 0.1 1</specular>
          </material>
        </visual>


      </link>
    </model>

    <!-- =========================
         SPAWN PAVBOT
         ========================= -->
    <include>
      <uri>model://pavbot_test</uri>
      <pose>-12 0 0.12 0 0 0</pose>
    </include>

  </world>
</sdf>